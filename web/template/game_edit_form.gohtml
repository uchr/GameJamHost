{{define "content"}}
{{ if .IsNewGame }}
<h1 class="title"> New Game Entry for {{.Jam.Title}} </h1>
{{else}}
<h1 class="title"> Edit {{.Game.Title}} </h1>
{{end}}

<form enctype="multipart/form-data"  action="{{ if .IsNewGame }}/jams/{{.Jam.URL}}/game/new{{else}}/jams/{{.Jam.URL}}/games/{{.Game.URL}}/edit{{end}}" method="POST">
    <div class="field">
        <label class="label">Title</label>
        <div class="control">
            {{ if .Errors.Title }}
            <p class="help is-danger">{{ .Errors.Title }}</p>
            {{ end }}
            <input class="input" id="name"  name="name" type="text" placeholder="Text input" value="{{.Game.Title}}">
        </div>

        <label class="label">Build</label>
        <div class="control">
            {{ if .Errors.Build }}
            <p class="help is-danger">{{ .Errors.Build }}</p>
            {{ end }}
            <input class="input" id="build" name="build" type="text" placeholder="Text input" value="{{.Game.Build}}">
        </div>

        <label class="label">Content</label>
        <div class="control">
            {{ if .Errors.Content }}
            <p class="help is-danger">{{ .Errors.Content }}</p>
            {{ end }}
            <textarea class="textarea" name="content" placeholder="Content" rows="20">{{.Game.Content}}</textarea>
        </div>
    </div>

    <div class="field">
        <div class="control">
            {{ if .Game.CoverImageURL }}
            <img src="/static/user_images/{{.Game.CoverImageURL}}" alt="Cover image" />
            {{ end }}
            <label class="label">Cover image</label>
            <input type="file" name="CoverImage" />
        </div>
    </div>

    <div class="field">
        <div class="control">
            {{ if gt (len .Game.ScreenshotURLs) 0 }}
            <img src="/static/user_images/{{index .Game.ScreenshotURLs 0}}" alt="Screenshot 1" />
            {{ end }}
            <label class="label">Screenshot 1</label>
            <input type="file" name="Screenshot-0" />
        </div>
        <div class="control">
            {{ if gt (len .Game.ScreenshotURLs) 1 }}
            <img src="/static/user_images/{{index .Game.ScreenshotURLs 1}}" alt="Screenshot 2" />
            {{ end }}
            <label class="label">Screenshot 2</label>
            <input type="file" name="Screenshot-1" />
        </div>
        <div class="control">
            {{ if gt (len .Game.ScreenshotURLs) 2 }}
            <img src="/static/user_images/{{index .Game.ScreenshotURLs 2}}" alt="Screenshot 3" />
            {{ end }}
            <label class="label">Screenshot 3</label>
            <input type="file" name="Screenshot-2" />
        </div>
    </div>

    <div class="field">
        <div class="control">
            {{ if .IsNewGame }}
            <button type="submit" class="button is-link">Create</button>
            {{ else }}
            <button type="submit" class="button is-link">Save</button>
            {{ end }}
        </div>
    </div>
</form>
{{end}}